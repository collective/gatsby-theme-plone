{"version":3,"sources":["../../src/utils/get-static-dir.js"],"names":["fs","require","chokidar","nodePath","exports","copyStaticDir","staticDir","join","process","cwd","existsSync","Promise","resolve","copySync","syncStaticDir","watch","on","path","relativePath","relative","copy"],"mappings":";;AAAA,MAAMA,EAAE,GAAGC,OAAO,CAAE,UAAF,CAAlB;;AACA,MAAMC,QAAQ,GAAGD,OAAO,CAAE,UAAF,CAAxB;;AACA,MAAME,QAAQ,GAAGF,OAAO,CAAE,MAAF,CAAxB;AAEA;;;;;;;AAKAG,OAAO,CAACC,aAAR,GAAwB,MAAM;AAC5B,QAAMC,SAAS,GAAGH,QAAQ,CAACI,IAAT,CAAcC,OAAO,CAACC,GAAR,EAAd,EAA8B,QAA9B,CAAlB;AACA,MAAI,CAACT,EAAE,CAACU,UAAH,CAAcJ,SAAd,CAAL,EAA+B,OAAOK,OAAO,CAACC,OAAR,EAAP;AAC/B,SAAOZ,EAAE,CAACa,QAAH,CAAYP,SAAZ,EAAuBH,QAAQ,CAACI,IAAT,CAAcC,OAAO,CAACC,GAAR,EAAd,EAA8B,QAA9B,CAAvB,CAAP;AACD,CAJD;AAMA;;;;;;;AAKAL,OAAO,CAACU,aAAR,GAAwB,MAAM;AAC5B,QAAMR,SAAS,GAAGH,QAAQ,CAACI,IAAT,CAAcC,OAAO,CAACC,GAAR,EAAd,EAA8B,QAA9B,CAAlB;AACAP,EAAAA,QAAQ,CACLa,KADH,CACST,SADT,EAEGU,EAFH,CAEO,KAFP,EAEaC,IAAI,IAAI;AACjB,UAAMC,YAAY,GAAGf,QAAQ,CAACgB,QAAT,CAAkBb,SAAlB,EAA6BW,IAA7B,CAArB;AACAjB,IAAAA,EAAE,CAACoB,IAAH,CAAQH,IAAR,EAAe,GAAET,OAAO,CAACC,GAAR,EAAc,WAAUS,YAAa,EAAtD;AACD,GALH,EAMGF,EANH,CAMO,QANP,EAMgBC,IAAI,IAAI;AACpB,UAAMC,YAAY,GAAGf,QAAQ,CAACgB,QAAT,CAAkBb,SAAlB,EAA6BW,IAA7B,CAArB;AACAjB,IAAAA,EAAE,CAACoB,IAAH,CAAQH,IAAR,EAAe,GAAET,OAAO,CAACC,GAAR,EAAc,WAAUS,YAAa,EAAtD;AACD,GATH;AAUD,CAZD","sourcesContent":["const fs = require(`fs-extra`)\nconst chokidar = require(`chokidar`)\nconst nodePath = require(`path`)\n\n/**\n * copyStaticDir\n * --\n * Copy files from the static directory to the public directory\n */\nexports.copyStaticDir = () => {\n  const staticDir = nodePath.join(process.cwd(), `static`)\n  if (!fs.existsSync(staticDir)) return Promise.resolve()\n  return fs.copySync(staticDir, nodePath.join(process.cwd(), `public`))\n}\n\n/**\n * syncStaticDir\n * --\n * Set up a watcher to sync changes from the static directory to the public directory\n */\nexports.syncStaticDir = () => {\n  const staticDir = nodePath.join(process.cwd(), `static`)\n  chokidar\n    .watch(staticDir)\n    .on(`add`, path => {\n      const relativePath = nodePath.relative(staticDir, path)\n      fs.copy(path, `${process.cwd()}/public/${relativePath}`)\n    })\n    .on(`change`, path => {\n      const relativePath = nodePath.relative(staticDir, path)\n      fs.copy(path, `${process.cwd()}/public/${relativePath}`)\n    })\n}\n"],"file":"get-static-dir.js"}